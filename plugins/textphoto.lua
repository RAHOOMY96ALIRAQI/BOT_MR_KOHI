--[[
ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–
#Dev : https://telegram.me/joinchat/B-5QgD-MTEjbNrWUgWF85wğŸ”°â˜ 
ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–
#Dev : @R1M18â¤ï¸
ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–
#Dev_bot : @R1M18_BOTâ¤
ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–
#Dev_Channel : @KING_BOT96â¤ï¸
ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–ğŸ”¹â–ğŸ”¸â–
]]
do

local function send_title(cb_extra, success, result)
  if success then
    send_msg(cb_extra[1], cb_extra[2], ok_cb, false)
  end
end

local function run(msg, matches)
  local eq = URL.escape(matches[1])

  local url = "http://latex.codecogs.com/png.download?"
    .."\\dpi{300}%20\\LARGE%20"..eq

  local receiver = get_receiver(msg)
  local title = "Edit LaTeX on www.codecogs.com/eqnedit.php?latex="..eq
  send_photo_from_url(receiver, url, send_title, {receiver, title})
end

return {
  description = "Convert LaTeX equation to image",
  usage = {
    "text [equation]: Convert LaTeX equation to image"
  },
  patterns = {
    "^/text (.+)$"
  },
  run = run
}

end
